{
  "name": "json-path",
  "version": "0.1.3",
  "author": {
    "name": "Phillip Clark",
    "email": "phillip@flitbit.com"
  },
  "description": "JSON-Path utility (XPath for JSON) for nodejs and modern browsers.",
  "main": "index.js",
  "directories": {
    "example": "examples",
    "test": "test"
  },
  "scripts": {
    "test": "mocha -R spec"
  },
  "dependencies": {
    "json-ptr": "~0.1.1"
  },
  "devDependencies": {
    "expect.js": "~0.2.0",
    "mocha": "~1.13.0"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/flitbit/json-path"
  },
  "readme": "json-path (alpha) [![Build Status](https://travis-ci.org/flitbit/json-path.png)](http://travis-ci.org/flitbit/json-path)\n=========\n\nJSON-Path utility (XPath for JSON) for nodejs and modern browsers.\n\nYou may be looking for the prior work [found here](http://goessner.net/articles/JsonPath/). This implementation is a new JSON-Path syntax building on [JSON Pointer (RFC 6901)](http://tools.ietf.org/html/rfc6901) in order to ensure that any valid JSON pointer is also valid JSON-Path.\n\n**Warning:** This is a work in progress - I am actively adding selection expressions and have yet to optimize, but as I use it in a few other projects I went ahead and made it available via `npm`. Until I take the **alpha** tag off you should look to the examples and test to understand the selection path syntax.\n\n## Example\n\n[flikr-example-2.js](https://github.com/flitbit/json-path/blob/master/examples/flikr-example-2.js)\n```javascript\nvar jpath = require('json-path')\n, http = require('http')\n, util = require('util')\n;\n\nvar feed = \"http://api.flickr.com/services/feeds/photos_public.gne?tags=beach,pipeline&tagmode=all&format=json&jsoncallback=processResponse\"\n;\n\nfunction processResponse(json) {\n\tvar res = jpath.resolve(json, \"#/items[first(3)]take(/title,/author,media=/media/m)\")\n\tconsole.log( util.inspect(res, false, 5) );\n}\n\nhttp.get(feed, function(res) {\n\tconsole.log(\"Got response: \" + res.statusCode);\n\n\tvar data = '';\n\n\tres.on('data', function (chunk){\n\t\tdata += chunk;\n\t});\n\n\tres.on('end',function(){\n\t\t// result is formatted as jsonp... this is for illustration only.\n\t\teval(data);\n\t})\n}).on('error', function(e) {\n\tconsole.log(\"Got error: \" + e.message);\n});\n```\n\n## Installation\n\n[node.js](http://nodejs.org)\n```bash\n$ npm install json-path\n```\n\n## Basics\n\nJSON-Path takes a specially formatted *path* statement and applies it to an object graph in order to *select* results. The results are returned as an array of data that matches the path.\n\nMost paths start out looking like a JSON Pointer...\n\n```javascript\n// From: http://goessner.net/articles/JsonPath/\nvar data = {\n  store: {\n    book: [\n      { category: \"reference\",\n        author: \"Nigel Rees\",\n        title: \"Sayings of the Century\",\n        price: 8.95\n      },\n      { category: \"fiction\",\n        author: \"Evelyn Waugh\",\n        title: \"Sword of Honour\",\n        price: 12.99\n      },\n      { category: \"fiction\",\n        author: \"Herman Melville\",\n        title: \"Moby Dick\",\n        isbn: \"0-553-21311-3\",\n        price: 8.99\n      },\n      { category: \"fiction\",\n        author: \"J. R. R. Tolkien\",\n        title: \"The Lord of the Rings\",\n        isbn: \"0-395-19395-8\",\n        price: 22.99\n      }\n    ],\n    bicycle: {\n      color: \"red\",\n      price: 19.95\n    }\n  }\n};\n```\n\nThe pointer `/store/book/0` refers to the first book in the array of books (the one by Nigen Rees).\n\n**Differentiator**\n\nThe thing that makes JSON-Path different from JSON-Pointer is that you can do more than reference a single point in a structure. Instead, you are able to `select` many pieces of data out of a structure, such as:\n\n`/store/book[*]/price`\n```javascript\n[8.95, 12.99, 8.99, 22.99]\n```\n\nIn the preceding example, the path `/store/book[*]/price` has three distinct statements:\n\nStatement | Meaning\n--- | ---\n`/store/book` | Get the book property from store. This is similar to `data.store.book` in javascript.\n`*` | Select any element (or property).\n`/price` | Select the price property.\n\nStarting with the original data, each statement refines the data, usually by selecting parts. As each statement is processed, it is given the results from the previous statement and may make further selections, until the final selections are returned to the caller. It works something like map-reduce; or if you like, something like list-comprehensions.\n\n**Distinguishing Statements**\n\nStatements are distinguished from one another using the square-brackets `[` and `]`. In many cases, the parser can infer where one statement ends and another begins, such as in the preceding example `/store/book[*]/price`. However, the parser understands the equivelant, fully specified path `[/store/book][*][/price]`.\n\nPaths can have as many distinct statements as you need to select just the right data. Since it extends JSON-Pointer, you must take care when your path contains square-brackets as part of property names such as the following contrived example:\n\n```javascript\nvar data = {\n\t'my[': {\n\t\tcontrived: {\n\t\t\t'example]': { should: \"mess with\", your: \"noodel\" } } }\n};\n```\n\nIn this data, the property names `my[` and `example]` are valid but would cuase ambiguities for either the parser or the processing of statements. In these cases, you must use the URI fragment identifier representation described in [RFC 6901 Section 6](http://tools.ietf.org/html/rfc6901#section-6). For instance, to access `data['my['].contrived['example]'].your` you would need the path `#/my%5B/contrived/example%5D/your`.\n\n### More Power\n\nJSON-Path becomes more powerful with a few additional types of statements:\n\nStatement | Meaning\n--- | ---\n`..` | Makes an exhaustive descent, executing the next statement against each branch of the object-graph.\n`take(s0,s1,...)` | Takes one or more items from the structure, each specified as a [JSON Pointer](http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer-09).\n`@` | Uses the user-supplied function to select or filter data.\n\nConsider the following examples using the same preceding data:\n\nPath | Result\n--- | ---\n`/store[..]/price` | Selects all prices, from books and the bicycle.\n`../isbn` | Selects all ISBN numbers, wherever they are in the structure.\n`/store/book[*]take(/author,/title)` | Selects author and title from each book.\n`/store/book[*][@]` | Selects all books, providing each to the user-supplied selection method.\n\n**User Supplied Selection Methods**\n\nJSON-Path supports the use of user-supplied selections - which will need to fill in until the expression syntax is completed. Mindful of the preceding data, consider the following code:\n\n```javascript\nvar jpath = require('json-path')\n, expect  = require('expect.js')\n, data    = require('./example-data')\n\nvar p = jpath.create(\"#/store/book[*][@]\");\n\nvar res = p.resolve(data, function(obj, accum) {\n  if (typeof obj.price === 'number' && obj.price < 10)\n    accum.push(obj);\n  return accum;\n});\n\n// Expect the result to have the two books priced under $10...\nexpect(res).to.contain(data[\"store\"][\"book\"][0]);\nexpect(res).to.contain(data[\"store\"][\"book\"][2]);\nexpect(res).to.have.length(2);\n\n```\n\nThe example above illustrates user-defined selection given to `resolve` used in place of the `@`.\n\nTo use more than one user-defined selections, refer to selection functions by name and provide implementations when resolving the path:\n\n```javascript\nvar jpath = require('json-path')\n, expect = require('expect.js')\n, data = require('./example-data')\n\nvar p = jpath.create(\"#/store/book[*][@lt10][@format]\");\n\nvar res = p.resolve(data, {\n\n\tlt10: function(obj, accum) {\n\t\tif (typeof obj.price === 'number' && obj.price < 10)\n\t\t\taccum.push(obj);\n\t\treturn accum;\n\t},\n\n\tformat: function(obj, accum) {\n\t\taccum.push(obj.title.concat(\n\t\t\t\": $\", obj.price\n\t\t\t));\n\t\treturn accum;\n\t}\n\n});\n\n// Expect the result to have formatted strings for\n// the twb books priced under $10...\nexpect(res).to.contain(\"Sayings of the Century: $8.95\");\nexpect(res).to.contain(\"Moby Dick: $8.99\");\nexpect(res).to.have.length(2);\n```\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/flitbit/json-path/issues"
  },
  "_id": "json-path@0.1.3",
  "dist": {
    "shasum": "dce61357b3b281b28ac647ec0a709bc58a155bf8",
    "tarball": "http://registry.npmjs.org/json-path/-/json-path-0.1.3.tgz"
  },
  "_from": "json-path@*",
  "_npmVersion": "1.3.8",
  "_npmUser": {
    "name": "flitbit",
    "email": "phillip@flitbit.com"
  },
  "maintainers": [
    {
      "name": "flitbit",
      "email": "phillip@flitbit.com"
    }
  ],
  "_shasum": "dce61357b3b281b28ac647ec0a709bc58a155bf8",
  "_resolved": "https://registry.npmjs.org/json-path/-/json-path-0.1.3.tgz",
  "homepage": "https://github.com/flitbit/json-path"
}
